<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <ul id="newUl">
        <li>点击0</li>
        <li>点击1</li>
        <li>点击2</li>
        <li>点击3</li>
  </ul>
  <ul id="ul-list"></ul>
  <!-- 给每个li绑定click并且弹出index -->
  
</body>
<script>
    var Ul = document.getElementById('ul-list');
    var flag = document.createDocumentFragment();
    for(i = 1; i <= 1000;i++){
      var li = document.createElement('li');
      li.innerHTML = i
      flag.appendChild(li)
    }
    Ul.appendChild(flag);
    Ul.addEventListener('click',function (e) {
      var target = e.target;
      // console.log(target.nodeName)
      var targetName = target.nodeName
      var isLi = targetName.toLocaleLowerCase() === 'li' 
      if(isLi){
        alert(target.innerHTML)
      }
    })

    var new_lis = document.getElementById('newUl').getElementsByTagName('li');
    // let
    // for(let i = 0;i<new_lis.length;i++){
    //   new_lis[i].onclick = function () {
    //     alert(i)
    //   }
    // }
    for(var i = 0;i<new_lis.length;i++){
      (function(i){
        new_lis[i].onclick = function () {
          alert(i)
        }
      })(i)
    }

</script>
</html>